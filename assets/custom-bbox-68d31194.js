import"./modulepreload-polyfill-3cfb730f.js";import{c as N,g as S,m as P}from"./index-4df36c28.js";function I(c,u){u===void 0&&(u={});var i=Number(c[0]),n=Number(c[1]),a=Number(c[2]),M=Number(c[3]);if(c.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var p=[i,n],s=[i,M],g=[a,M],y=[a,n];return N([[p,y,g,s,p]],u.properties,{bbox:c,id:u.id})}var Y={exports:{}};(function(c,u){var i=function(){var n={},a=Math.PI/180,M=180/Math.PI,p=6378137,s=20037508342789244e-9;function g(e){return Number(e)===e&&e%1!==0}function y(e){if(e=e||{},this.size=e.size||256,this.expansion=e.antimeridian===!0?2:1,!n[this.size]){var t=this.size,r=n[this.size]={};r.Bc=[],r.Cc=[],r.zc=[],r.Ac=[];for(var l=0;l<30;l++)r.Bc.push(t/360),r.Cc.push(t/(2*Math.PI)),r.zc.push(t/2),r.Ac.push(t),t*=2}this.Bc=n[this.size].Bc,this.Cc=n[this.size].Cc,this.zc=n[this.size].zc,this.Ac=n[this.size].Ac}return y.prototype.px=function(e,t){if(g(t)){var r=this.size*Math.pow(2,t),l=r/2,x=r/360,m=r/(2*Math.PI),v=r,h=Math.min(Math.max(Math.sin(a*e[1]),-.9999),.9999),o=l+e[0]*x,f=l+.5*Math.log((1+h)/(1-h))*-m;return o>v*this.expansion&&(o=v*this.expansion),f>v&&(f=v),[o,f]}else{var l=this.zc[t],h=Math.min(Math.max(Math.sin(a*e[1]),-.9999),.9999),o=Math.round(l+e[0]*this.Bc[t]),f=Math.round(l+.5*Math.log((1+h)/(1-h))*-this.Cc[t]);return o>this.Ac[t]*this.expansion&&(o=this.Ac[t]*this.expansion),f>this.Ac[t]&&(f=this.Ac[t]),[o,f]}},y.prototype.ll=function(e,t){if(g(t)){var r=this.size*Math.pow(2,t),l=r/360,x=r/(2*Math.PI),m=r/2,v=(e[1]-m)/-x,h=(e[0]-m)/l,o=M*(2*Math.atan(Math.exp(v))-.5*Math.PI);return[h,o]}else{var v=(e[1]-this.zc[t])/-this.Cc[t],h=(e[0]-this.zc[t])/this.Bc[t],o=M*(2*Math.atan(Math.exp(v))-.5*Math.PI);return[h,o]}},y.prototype.bbox=function(e,t,r,l,x){l&&(t=Math.pow(2,r)-1-t);var m=[e*this.size,(+t+1)*this.size],v=[(+e+1)*this.size,t*this.size],h=this.ll(m,r).concat(this.ll(v,r));return x==="900913"?this.convert(h,"900913"):h},y.prototype.xyz=function(e,t,r,l){l==="900913"&&(e=this.convert(e,"WGS84"));var x=[e[0],e[1]],m=[e[2],e[3]],v=this.px(x,t),h=this.px(m,t),o=[Math.floor(v[0]/this.size),Math.floor((h[0]-1)/this.size)],f=[Math.floor(h[1]/this.size),Math.floor((v[1]-1)/this.size)],w={minX:Math.min.apply(Math,o)<0?0:Math.min.apply(Math,o),minY:Math.min.apply(Math,f)<0?0:Math.min.apply(Math,f),maxX:Math.max.apply(Math,o),maxY:Math.max.apply(Math,f)};if(r){var C={minY:Math.pow(2,t)-1-w.maxY,maxY:Math.pow(2,t)-1-w.minY};w.minY=C.minY,w.maxY=C.maxY}return w},y.prototype.convert=function(e,t){return t==="900913"?this.forward(e.slice(0,2)).concat(this.forward(e.slice(2,4))):this.inverse(e.slice(0,2)).concat(this.inverse(e.slice(2,4)))},y.prototype.forward=function(e){var t=[p*e[0]*a,p*Math.log(Math.tan(Math.PI*.25+.5*e[1]*a))];return t[0]>s&&(t[0]=s),t[0]<-s&&(t[0]=-s),t[1]>s&&(t[1]=s),t[1]<-s&&(t[1]=-s),t},y.prototype.inverse=function(e){return[e[0]*M/p,(Math.PI*.5-2*Math.atan(Math.exp(-e[1]/p)))*M]},y}();c.exports=i})(Y);var b=Y.exports;const E=S(b),B={};function F(c,u){const i=c||256,n=u||!1,a=i+String(n);return B[a]||(B[a]=new E({size:i,antiMeridian:n})),B[a]}function j(c,u,i,n){let a=c;a.lon!==void 0&&(a=[a.lon,a.lat]);const M=F(n),p=M.px(a,u),s=M.ll([p[0]-i[0]/2,p[1]-i[1]/2],u),g=M.ll([p[0]+i[0]/2,p[1]+i[1]/2],u);return[s[0],g[1],g[0],s[1]]}const D=document.getElementById("btn-back");D.addEventListener("click",()=>{window.location.href="../index.html"});P.accessToken="pk.eyJ1Ijoib3J1Y2JlIiwiYSI6ImNsbTZuZGxrZjBoN3czamxnM2V6aHBiZGEifQ.Fami0mGh65buxFjfJ0Ppjg";const d=new P.Map({center:[29,41.015137],container:"mapContainer",style:"mapbox://styles/mapbox/streets-v12",zoom:11});d.on("load",()=>{d.addSource("polygons",{type:"geojson",data:{type:"FeatureCollection",features:[]}}),d.addLayer({id:"polygons",source:"polygons",type:"fill",paint:{"fill-color":["get","color"],"fill-opacity":.5}}),A(),d.on("moveend",A)});const A=()=>{const c=d.getBounds().toArray(),u=I(c.flat()),i={width:Number(d.getCanvas().style.width.replace("px","")),height:Number(d.getCanvas().style.height.replace("px",""))};let n=.65,a=.65;i.width/i.height<1&&(n=.7,a=.7);const p=j(d.getCenter().toArray(),d.getZoom(),[i.width*n,i.height*a],512),s=I(p);d.getSource("polygons").setData({type:"FeatureCollection",features:[{type:"Feature",properties:{color:"red"},geometry:u.geometry},{type:"Feature",properties:{color:"blue"},geometry:s.geometry}]})};
